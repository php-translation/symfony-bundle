services:
  Translation\Bundle\Controller\EditInPlaceController:
    autowire: true
    public: true
    tags: ['controller.service_arguments']
    arguments:
      - '@Translation\Bundle\Service\StorageManager'
      - '@Translation\Bundle\Service\CacheClearer'
      - '@Symfony\Component\Validator\Validator\ValidatorInterface'

  Translation\Bundle\EventListener\EditInPlaceResponseListener:
    tags:
      - { name: 'kernel.event_listener', event: 'kernel.response', method: 'onKernelResponse' }
    arguments:
      - ~
      - '@router'
      - '@assets.packages'
      - ~
      - ~

  Translation\Bundle\EditInPlace\Activator:
    arguments: ['@session']
    public: true

  Translation\Bundle\Translator\EditInPlaceTranslator:
    arguments:
      - '@translator'
      - ~
      - '@request_stack'

  Translation\Bundle\Twig\EditInPlaceExtension:
    public: false
    arguments:
      - '@twig.extension.trans'
      - '@request_stack'
      - ~
    tags:
      - { name: 'twig.extension' }

  # To remove in next major release
  php_translation.edit_in_place.response_listener:
    parent: Translation\Bundle\EventListener\EditInPlaceResponseListener
    deprecated:
        package: 'php-translation/symfony-bundle'
        version: '0.11.0'
        message: ~
  php_translation.edit_in_place.activator:
    parent: Translation\Bundle\EditInPlace\Activator
    deprecated:
        package: 'php-translation/symfony-bundle'
        version: '0.11.0'
        message: ~
  php_translator.edit_in_place.xtrans_html_translator:
    parent: Translation\Bundle\Translator\EditInPlaceTranslator
    deprecated:
        package: 'php-translation/symfony-bundle'
        version: '0.11.0'
        message: ~
  php_translation.edit_in_place.extension.trans:
    parent: Translation\Bundle\Twig\EditInPlaceExtension
    deprecated:
        package: 'php-translation/symfony-bundle'
        version: '0.11.0'
        message: ~
