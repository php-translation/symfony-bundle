services:
  php_translation.edit_in_place.response_listener:
    class: Translation\Bundle\EditInPlace\ResponseListener
    tags:
      - { name: 'kernel.event_listener', event: 'kernel.response', method: 'onKernelResponse' }
    arguments:
      - '@php_translation.edit_in_place.activator'
      - '@router'
      - '@assets.packages'

  php_translation.edit_in_place.activator:
    class: Translation\Bundle\EditInPlace\Activator
    arguments: ['@session']

  # todo: better way than overriding Symfony?
  twig.extension.trans:
    public: false
    class: Translation\Bundle\EditInPlace\Twig\TranslationExtension
    arguments:
      - '@translator'
      - '@php_translation.edit_in_place.activator'
      - '@request_stack'

